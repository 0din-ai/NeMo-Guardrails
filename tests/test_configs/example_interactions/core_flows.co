# For all exposed UMIM events and actions we have a wrapper flow to abstract the technical details and unify the usage. 

# include umim_events_and_actions.co

# ----------------------------------
# Bot event and action wrapper flows
# -----------------------------------
@thread("main") # Default interaction thread
flow bot say $text
  await UtteranceBotAction(text=$text) as $action

@thread("expression")
flow bot express $expression
  await ExpressionBotAction($expression) as $action

@thread("gesture")
flow bot gesture $gesture
  await GestureBotAction($gesture) as $action

@thread("position")
flow bot move $position
  await PositionChangeBotAction($position) as $action

# -----------------------------------
# User event and action wrapper flows
# -----------------------------------

@thread("main")
flow user said $text
  match UtteranceUserActionFinished(text=$text) as $event

@thread("main")
flow user said anything
  match UtteranceUserActionFinished() as $event

# Vision related events and actions

@thread("vision")
flow user appears
  match DetectedUserAction.Finished() as $event

@thread("vision")
flow user disappears
  match DetectedUserAction.Finished() as $event

@thread("vision")
flow user becomes attentive
  match AttentionUserAction.Finished() as $event

@thread("vision")
flow user becomes inattentive
  match AttentionUserAction.Finished() as $event